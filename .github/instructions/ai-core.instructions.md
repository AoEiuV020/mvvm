---
applyTo: '**'
---

## AI 核心约束

### 严格执行原则

1. **不向下兼容**：修改代码时只保留最新方案，不保留旧方案作为备选
2. **不提供多种选择**：禁止"方案A/方案B"、"简单项目用X，复杂项目用Y"等表述
3. **严格遵循规划文档**：`md/规划/` 中的约束是唯一标准，不得自行调整

### 代码修改规则

- 新增功能：严格按照规划文档中的模式实现
- 修改功能：使用规划文档中的最新模式，移除旧代码
- 重构：只保留目标方案，不保留过渡代码

### 禁止行为

- ❌ 提供"也可以用..."的替代方案
- ❌ 保留"简单情况下"的简化版本
- ❌ 自行决定技术选型
- ❌ 修改规划文档中的技术栈约束

### 冲突处理

遇到以下情况时，**立即反馈**（参见 feedback.instructions.md），不要死磕或无脑照办：

- 规划文档之间存在冲突
- 用户指令与规划文档约束冲突
- 规划文档中的代码模式无法运行或已过时
- 不确定如何实现某个需求

**反馈内容应包含：** 当前情况、冲突点、等待用户决策
