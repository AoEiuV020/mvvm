# 复杂页面组织

## 大页面拆分原则

当页面逻辑过于复杂时，按功能区域拆分为多个子组件。

**拆分条件：**
- 页面代码超过 500 行
- 存在多个独立的功能区域
- 需要复用部分 UI 组件

## 组件划分

| 类型 | 说明 |
|------|------|
| 主页面 | 负责整体布局和状态管理 |
| 子组件 | 负责特定区域的展示和交互 |
| 公共组件 | 可跨页面复用的 UI 组件 |

## 状态管理策略

- 主 ViewModel 管理页面级状态
- 子组件通过参数接收所需状态
- 子组件事件通过回调传递给主页面

## 子组件独立 ViewModel

当子组件具有独立业务逻辑时，可拥有独立 ViewModel：
- 子 ViewModel 由主 ViewModel 持有或通过依赖注入获取
- 子 ViewModel 处理局部状态和业务逻辑

## 禁止行为

- 子组件直接访问 SDK
- 子组件绕过主页面直接修改全局状态
- 过度拆分导致组件粒度过细
