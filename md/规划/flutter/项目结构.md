# Flutter 项目结构

## Workspace 多模块结构

基于[通用多模块结构](../通用/多模块结构.md)，Flutter 项目使用下划线命名：

```
flutter_im/
├── pubspec.yaml                # workspace 配置
├── packages/
│   ├── im_sdk/                 # 核心 SDK（对应 sdk）
│   │   ├── lib/
│   │   │   ├── services/
│   │   │   └── models/
│   │   └── pubspec.yaml
│   ├── im_sdkui/               # UI SDK（对应 sdkui）
│   │   ├── lib/
│   │   │   ├── viewmodels/
│   │   │   ├── states/
│   │   │   ├── providers/
│   │   │   └── widgets/
│   │   └── pubspec.yaml
│   └── im_uikit/               # UI 组件库（对应 uikit）
│       ├── lib/
│       └── pubspec.yaml
└── apps/
    └── im_app/                 # 主应用（对应 app）
        ├── lib/
        │   ├── main.dart
        │   ├── views/
        │   └── router/
        └── pubspec.yaml
```

## 模块职责

| Flutter 模块 | 通用模块 | 职责 |
|-------------|----------|------|
| `im_sdk` | sdk | 核心 SDK，无关 UI |
| `im_sdkui` | sdkui | ViewModel + 业务组件 |
| `im_uikit` | uikit | 纯 UI 组件 |
| `im_app` | app | 应用入口 |

## 分层关系

```
im_app → im_sdkui → im_sdk
             ↓
         im_uikit
```

## 文件命名规范

| 类型 | 命名格式 | 示例 |
|------|----------|------|
| ViewModel | `xxx_viewmodel.dart` | `login_viewmodel.dart` |
| State | `xxx_state.dart` | `login_state.dart` |
| View/Page | `xxx_page.dart` | `login_page.dart` |
| Widget | `xxx_widget.dart` | `message_bubble_widget.dart` |
| Provider | `xxx_providers.dart` | `auth_providers.dart` |
| Model | `xxx_model.dart` | `user_model.dart` |
