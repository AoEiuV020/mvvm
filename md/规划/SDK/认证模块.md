# 认证模块

## 接口定义

```dart
abstract class IAuthService {
  /// 登录
  Future<LoginResult> login(String countryCode, String phone, String password);
  
  /// 注册
  Future<RegisterResult> register(String countryCode, String phone, String password, String nickname);
  
  /// 登出
  Future<void> logout();
  
  /// 是否已登录
  bool get isLoggedIn;
  
  /// 当前用户
  User? get currentUser;
}
```

---

## 数据类型

```dart
class LoginResult {
  final bool success;
  final User? user;
  final AuthError? error;
}

class RegisterResult {
  final bool success;
  final User? user;
  final AuthError? error;
}

enum AuthError {
  invalidCredentials,  // 用户名或密码错误
  userNotFound,        // 用户不存在
  userAlreadyExists,   // 用户已存在
  networkError,        // 网络错误
  serverError,         // 服务器错误
}
```

---

## 使用示例

```dart
final result = await authService.login('user', 'password');
if (result.success) {
  // 登录成功，跳转到主页
} else {
  // 显示错误：result.error
}
```
