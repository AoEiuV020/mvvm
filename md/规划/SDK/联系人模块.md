# 联系人模块

## 接口定义

```dart
abstract class IContactService {
  /// 获取好友列表
  Future<List<Contact>> getFriendList();
  
  /// 搜索用户
  Future<List<User>> searchUser(String keyword);
  
  /// 发送好友申请
  Future<void> sendFriendRequest(String userId, {String? message});
  
  /// 获取好友申请列表
  Future<List<FriendRequest>> getFriendRequests();
  
  /// 接受好友申请
  Future<void> acceptFriendRequest(String requestId);
  
  /// 拒绝好友申请
  Future<void> rejectFriendRequest(String requestId);
  
  /// 删除好友
  Future<void> deleteFriend(String userId);
  
  /// 设置好友备注
  Future<void> setFriendRemark(String userId, String remark);
  
  /// 监听好友列表变化
  Stream<List<Contact>> get onFriendListChanged;
  
  /// 监听新好友申请
  Stream<FriendRequest> get onFriendRequestReceived;
}
```

---

## 数据类型

```dart
class Contact {
  final User user;
  final String? remark;
  final DateTime addedAt;
}

class FriendRequest {
  final String id;
  final User fromUser;
  final String? message;
  final FriendRequestStatus status;
  final DateTime createdAt;
}

enum FriendRequestStatus { pending, accepted, rejected }
```
